<div class="content-wrapper">
  <app-header></app-header>
  
  <div class="main-wrapper">
    <div class="intro-wrapper">
      <p>aBBi (“AI-bildbeskrivningar”) is a web app for generating image descriptions (e.g. alt texts) using AI.</p>
      <p>Start by defining your settings for the process and providing your API key, then select image files from your computer, and finally generate descriptions of them. You can download the descriptions in different formats or copy them to the clipboard individually.</p>
    </div>
  
    <mat-stepper orientation="horizontal" [linear]="true" #stepper>
      <!-- Step 1: Configure settings -->
      <mat-step label="Configure settings">
        <h2>Configure settings</h2>
        <settings-form></settings-form>
        <div class="stepper-nav">
          <button mat-button color="primary" matStepperNext>Next</button>
        </div>
      </mat-step>
  
      <!-- Step 2: Enter API key -->
      <mat-step [stepControl]="apiKeyFormGroup" label="Enter API key">
        <h2>Enter your {{ (settings.selectedModel$ | async)?.provider || '' }} API key</h2>
        <api-key-form
              [modelProvider]="(settings.selectedModel$ | async)?.provider || ''"
              (formGroupOutput)="setApiKeyFormGroup($event)"
        ></api-key-form>
        <div class="stepper-nav">
          <button mat-button color="primary" matStepperPrevious>Back</button>
          <button mat-button color="primary" matStepperNext>Next</button>
        </div>
      </mat-step>
  
      <!-- Step 3: Add images -->
      <mat-step label="Add images" [completed]="(imageListService.imageList$ | async)?.length && !addingImages">
        <h2>Add images</h2>
        <add-images (addingImages)="setAddingImages($event)"></add-images>
        <div class="stepper-nav">
          <button mat-button color="primary" matStepperPrevious>Back</button>
          <button mat-button color="primary" matStepperNext>Next</button>
        </div>
      </mat-step>
  
      <!-- Step 4: Generate image descriptions -->
      <mat-step label="Generate descriptions">
        <h2 id="generate-step-title">Generate image descriptions</h2>
        <generate-descriptions></generate-descriptions>
        <div class="stepper-nav">
          <button mat-button color="primary" matStepperPrevious>Back</button>
          <button mat-button color="primary" (click)="stepper.reset()">Reset</button>
        </div>
      </mat-step>
    </mat-stepper>
  </div>
</div>
<div class="footer-wrapper">
  <footer>
    <p>Your data is safe: it’s not used to train any AI-models.</p>
  </footer>
</div>
